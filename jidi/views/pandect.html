<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Document</title>
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">  
	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.wilddog.com/sdk/js/2.5.17/wilddog.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="../public/js/template-web.js"></script>
	<script src="../public/js/pandect.js"></script>
	<style type="text/css">
		.container{
			width: 100%;
			padding-top: 15px;
			padding: 15px;
		}
		.btn-default{
			border:none;
			color: #337ab7;
		}
		.dropdown-toggle.btn-default{
			background: #fff;

		}
		.nav>li>a:focus, .nav>li>a:hover{
			background: #fff;
			color: #337ab7;

		}
		.lotPos{
			position: absolute;
			top: 50%;
			left: 80px;
			/*right: 5px;*/
			transform: translateY(-50%);

		}
		.table>tbody>tr>td, .table>tbody>tr>th {
			position: relative;
			text-align: center;
			vertical-align: middle;
		}
		.bgGray{
			width: 100%;
			/*background: #eee;*/
			color: #fff ;
			background: #000;
			/*background: red;*/
		}
		.hideAlert{
			display: none;
		}
	</style>
</head>
<body>
	<div class="container">
	<div class="header">
		<ul class="nav nav-pills nav-justified">
		  <li class="active"><a href="#" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span>基地大棚列表</a>
				   <ul class="dropdown-menu">
				        <li>
				            <a href="./map.html?id=1">第1个大棚</a>
				        </li>
				         <li class="divider"></li>
				        <li>
				            <a href="./map.html?id=2">第2个大棚</a>
				        </li>
				         <li class="divider"></li>
				        <li>
				            <a href="./map.html?id=3">第3个大棚</a>
				        </li>
				         <li class="divider"></li>
				       
				        <li>
				            <a href="./map.html?id=4">第4个大棚</a>
				        </li>
				         <li class="divider"></li>
				        <li>
				            <a href="./map.html?id=5">第5个大棚</a>
				        </li>
				        <li class="divider"></li>
				        <li>
				            <a href="./map.html?id=6">第6个大棚</a>
				        </li>
				        <li class="divider"></li>
				        <li>
				            <a href="./map.html?id=7">第7个大棚</a>
				        </li>
				    </ul>	
				
		  </li>

		  <li ><a href="./pandect.html">农作物总览</a></li>
		  <li><a href="./history.html">历史记录</a></li>
		  <li><a href="./analysis.html">数据分析记录表</a></li>
		  <li><a href="#">Java</a></li>
		  <li><a href="#">PHP</a></li>
		</ul>
	</div>
	<div class="page pull-right">
	<ul class="pagination pagination-lg">
    <li ><a href="javascript:;">&laquo;</a></li>
    <li class="active pageBtn"><a href="javascript:;">1</a></li>
    <li class="pageBtn"><a href="javascript:;">2</a></li>
    <li class="pageBtn"><a href="javascript:;">3</a></li>
    <li class="pageBtn"><a href="javascript:;">4</a></li>
    <li class="pageBtn"><a href="javascript:;">5</a></li>
    <li class="pageBtn"><a href="javascript:;">6</a></li>
    <li class="pageBtn"><a href="javascript:;">7</a></li>
    <li><a href="javascript:;">&raquo;</a></li>
</ul>
</div>



		<div class="main">


<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
      	 <div id="hideAlert" class="alert alert-danger alert-dismissible hideAlert" >
  <button type="button" id="close" class="close"><span aria-hidden="true">&times;</span>
  </button>
  <strong>Warning!</strong> 其中有一项必填项未填写
</div>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">添加蔬菜</h4>
      </div>
      <div class="modal-body">
  <!-- 表单 -->
 <form class="form-horizontal">
 	<div class="form-group">
    <label for="name" class="col-sm-2 control-label" >地块编号</label>
    <div class="col-sm-10">
      <input readonly=""  type="text" class="form-control" name="masId" value="" id="masId" placeholder="蔬菜名字">
    </div>
  </div>
  <div class="form-group">
    <label for="name" class="col-sm-2 control-label">蔬菜名字</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="name" value="" id="name" placeholder="蔬菜名字">
    </div>
  </div>
   <div class="form-group">
    <label for="sowDate" class="col-sm-2 control-label">种植日期</label>
    <div class="col-sm-10">
      <input type="date" class="form-control" name="sowDate" value="" id="sowDate" placeholder="种植日期">
    </div>
  </div>
  <div class="form-group">
    <label for="estimate" class="col-sm-2 control-label">成熟天数</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="estimate" value="" id="estimate" placeholder="预计成熟天数">
    </div>
  </div>
</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary modelSave">Save changes</button>
      </div>
    </div>
  </div>
</div>
		
		<h2>一号大棚</h2>
		<table class="table table-striped table-bordered">
		  <thead>
		    <tr>
		      <th class="text-center">地块编号</th>
		      <th class="text-center">农作物</th>
		      <th class="text-center">种植时间</th>
		      <th class="text-center">预计成熟时间</th>
		      <th class="text-center">种植时间</th>
		      <th class="text-center">预计剩余成熟时间</th>
		      <th class="text-center">预计成熟日期</th>
		      <th class="text-center" >操作</th>
		    </tr>
		  </thead>
		  <tbody id="hourseInfo">
		    
		   
  		</tbody>
</table>

</div>

<!-- hourseInfo -->
<script type="text/html" id="hourseInfoTpl">
	<% for(var i=0;i<data.length;i++){ %>
	<div  class="bgGray text-center" data-id="{{ $index }}" >地块</div>
	{{ each data[i].vegs }}
	{{ if $value.road != 1 && $value.height != '0'}}
	<tr>
      <td>
      {{ $value.masId }}
  	</td>
      <td>
      {{ $value.name }}
      </td>
     
      <td>
      {{  $value.name != '空地' ?  $value.sowDate : '----'}}
      </td>
      <td>
      {{ $value.name != '空地' ?  $value.estimate + '天'  : '----'}}
      </td>
      <td>
       {{ $value.name != '空地' ?  $value.passDay + '天'  : '----'}}
      </td>
      <td>
      {{ $value.name != '空地' ?  $value.upComingDay + '天'  : '----'}}
      </td>
      <td>
       {{ $value.name != '空地' ?  $value.metureDate  + '日'  : '----'}}
      </td>

      <td>
      	<a class="btn btn-primary editor" href="javascript:;" data-id="{{ $value.masId }}" data-index= "{{$index}}" data-test= "{{ data[i]['vegs']['length'] }}">编辑</a>
      	{{ if data[i]['vegs']['length']>1 }}
      	<a class="btn btn-danger delete" data-id="{{ $value.masId }}" data-test="{{ data[i]['vegs']['length']}}"   data-index= "{{$index}}" >删除
      	<a data-toggle="modal" data-target="#myModal"  class="btn btn-success increase" data-id="{{ $value.masId }}"  data-index= "{{$index}}" >添加</a>	
      	</a>
      	{{else if data[i]['vegs']['length'] == 1}}
      	
      	<a href="javascript:;" class="btn btn-info emptyBtn {{ $value.name == '空地' ? 'disabled' : ''}} " data-id="{{ $value.masId }}" 
      	data-test="{{ data[i]['vegs']['length']}}"   data-index= "{{$value.posId}}" >清空
      	</a>
      	
		<a data-toggle="modal"  data-target="#myModal"  class="btn btn-success increase {{ $value.name == '空地' ? 'disabled' : ''}}" data-id="{{ $value.masId }}"  data-index= "{{$index}}" >添加</a>
		{{ /if }}
      
      
	  </td>
	 </tr>
	 {{ /if }}
	 {{ /each }}
	 <% } %>
</script>
</body>
</html>